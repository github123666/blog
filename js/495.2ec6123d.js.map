{"version":3,"file":"js/495.2ec6123d.js","mappings":"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","sources":["webpack://diary/./src/pages/docs/frida hook  单机游戏1.vue","webpack://diary/./src/pages/docs/frida hook  单机游戏1.vue?aab8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"登山赛车2国服版\")]),_c('p',[_vm._v(\"tip:一些逻辑写在java层所以才成功,so层没思路 \"),_c('code',[_vm._v(\"起因在某app里面下载试玩了一下,抓包的时候发现抓不了(安卓5)???，看来是做了效验,直接trustme + burp 看有个加密的包,直接算法助手('冲冲冲👿')无果,就有接下来这些,庆幸没加固\")])]),_c('h2',[_vm._v(\"准备工具\")]),_c('blockquote',[_c('p',[_vm._v(\"1.frida-server包 \\\\ 2.模拟器一台\")])]),_c('h2',[_vm._v(\"准备环境\")]),_c('blockquote',[_c('p',[_vm._v(\"1.模拟器中安装frida_server(区分64位和32位) \\\\ 2.安装python \\\\ 3.python中安装frida(最好和安卓模拟器一样版本) ,frida-tools \"),_c('img',{attrs:{\"alt\":\"version\",\"src\":require(\"./static/version.png\")}})])]),_c('h2',[_vm._v(\"启动 ! ! !\")]),_c('ol',[_c('li',[_vm._v(\"打开安卓模拟器目录顶部输入cmd并回车 \"),_c('img',{attrs:{\"alt\":\"cmd\",\"src\":require(\"./static/openCmd.png\")}})]),_c('li',[_vm._v(\"执行以下命令将下好的frida-server包导入到模拟器中\"),_c('blockquote',[_c('p',[_vm._v(\"adb push frida包的路径 /data/local/tmp 或/data/local/temp \")])])]),_c('li',[_vm._v(\"进入shell,cd到刚刚放frida-server的目录下\"),_c('blockquote',[_c('p',[_vm._v(\"adb shell \\\\\"),_c('br'),_vm._v(\" cd /data/local/tmp \\\\\"),_c('br'),_vm._v(\" chmod 777 firda-server包名 \\\\\"),_c('br'),_vm._v(\" ./frida-server包名称 # 开启服务 \")])])]),_c('li',[_vm._v(\"重复一步骤打开cmd,进行端口转发\"),_c('blockquote',[_c('p',[_vm._v(\"adb forward tcp:27042 tcp:27042 \")])])]),_c('li',[_vm._v(\"打开pycharm 输入frida-ps -u 命令行会打印很多进程信息(基本配置已完成)\")])]),_c('h2',[_vm._v(\"反编译\")]),_c('p',[_vm._v(\"直接无脑使用工具 \")]),_c('blockquote',[_c('p',[_vm._v(\"apk_tool + dex2 + jd-gui \\\\\")])]),_c('h2',[_vm._v(\"开始Hook 👊\")]),_c('ol',[_c('li',[_vm._v(\"打开pycharm ``` import sys\")])]),_c('p',[_vm._v(\"import frida\")]),_c('p',[_vm._v(\"def on_message(message, data): print(message)\")]),_c('h1',[_vm._v(\"查找usb设备并附加目标进程\")]),_c('p',[_vm._v(\"device = frida.get_remote_device() pid = device.spawn([\\\"com.fingersoft.hcr2\\\"]) # 因为要在启动期间hook，所以要先执行device.spawn(),该方法有一个参数是进程名 session = device.attach(pid) with open('./hook_pay_api/index.js', 'r', encoding='utf-8') as f: js_code = f.read() script = session.create_script(js_code) # 在目标进程创建脚本 script.on(\\\"message\\\", on_message) # 注册消息回调 print('111') device.resume(pid) script.load() # 加载创建好的js脚本 print('111111')\")]),_c('p',[_vm._v(\"sys.stdin.read() # 读取系统输入\")]),_c('p',[_vm._v(\"```\")]),_c('blockquote',[_c('p',[_vm._v(\"自己内部对bs64进行二次加密,原本到这里应该是结束了 \\\\ 抱着玩的态度,对该游戏进行嘿嘿嘿🖕\")])]),_c('h3',[_vm._v(\"Hook mainActivety 😠\")]),_c('ul',[_c('li',[_vm._v(\"查看调用支付时会请求的接口\")]),_c('li',[_vm._v(\"直接调用支付成功的回调 👿\")])]),_c('h3',[_vm._v(\"coin gems vehicle\")]),_c('ul',[_c('li',[_vm._v(\"无脑改\")])]),_c('h3',[_vm._v(\"不同接口解密算法也不同\")]),_c('p',[_vm._v(\"解密失败 \"),_c('img',{attrs:{\"alt\":\"dectypt\",\"src\":require(\"./static/decrypt.png\")}})]),_c('h2',[_vm._v(\"最后\")]),_c('p',[_vm._v(\"还是太\"),_c('strong',[_vm._v(\"菜\")]),_vm._v(\"😭,so层代码看不懂\")])])\n}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./frida hook  单机游戏1.vue?vue&type=template&id=459dcb5e&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_self","_c","_m","staticRenderFns","_v","attrs","require","script","component"],"sourceRoot":""}